补充：
HTTPS的优点
尽管HTTPS并非绝对安全，掌握根证书的机构、掌握加密算法的组织同样可以进行中间人形式的攻击，但HTTPS仍是现行架构下最安全的解决方案，主要有以下几个好处：
（1）使用HTTPS协议可认证用户和服务器，确保数据发送到正确的客户机和服务器；
（2）HTTPS协议是由SSL+HTTP协议构建的可进行加密传输、身份认证的网络协议，要比http协议安全，可防止数据在传输过程中不被窃取、改变，确保数据的完整性。
（3）HTTPS是现行架构下最安全的解决方案，虽然不是绝对安全，但它大幅增加了中间人攻击的成本。
（4）谷歌曾在2014年8月份调整搜索引擎算法，并称“比起同等HTTP网站，采用HTTPS加密的网站在搜索结果中的排名将会更高”。
HTTPS的缺点
虽然说HTTPS有很大的优势，但其相对来说，还是存在不足之处的：
（1）HTTPS协议握手阶段比较费时，会使页面的加载时间延长近50%，增加10%到20%的耗电；
（2）HTTPS连接缓存不如HTTP高效，会增加数据开销和功耗，甚至已有的安全措施也会因此而受到影响；
（3）SSL证书需要钱，功能越强大的证书费用越高，个人网站、小网站没有必要一般不会用。
（4）SSL证书通常需要绑定IP，不能在同一IP上绑定多个域名，IPv4资源不可能支撑这个消耗。
（5）HTTPS协议的加密范围也比较有限，在黑客攻击、拒绝服务攻击、服务器劫持等方面几乎起不到什么作用。最关键的，SSL证书的信用链体系并不安全，特别是在某些国家可以控制CA根证书的情况下，中间人攻击一样可行。

https握手过程：http://www.cnblogs.com/lovesong/p/5186200.html
HTTPS在HTTP的基础上加入了SSL协议，SSL依靠证书来验证服务器的身份，并为浏览器和服务器之间的通信加密。
1. 客户端发起HTTPS请求
2. 服务端的配置
采用HTTPS协议的服务器必须要有一套数字证书，可以是自己制作或者CA证书。区别就是自己颁发的证书需要客户端验证通过，才可以继续访问，而使用CA证书则不会弹出提示页面。这套证书其实就是一对公钥和私钥。公钥给别人加密使用，私钥给自己解密使用。
3. 传送证书
这个证书其实就是公钥，只是包含了很多信息，如证书的颁发机构，过期时间等。
4. 客户端解析证书
这部分工作是有客户端的TLS来完成的，首先会验证公钥是否有效，比如颁发机构，过期时间等，如果发现异常，则会弹出一个警告框，提示证书存在问题。如果证书没有问题，那么就生成一个随即值，然后用证书对该随机值进行加密。
5. 传送加密信息
这部分传送的是用证书加密后的随机值，目的就是让服务端得到这个随机值，以后客户端和服务端的通信就可以通过这个随机值来进行加密解密了。
6. 服务段解密信息
服务端用私钥解密后，得到了客户端传过来的随机值(私钥)，然后把内容通过该值进行对称加密。所谓对称加密就是，将信息和私钥通过某种算法混合在一起，这样除非知道私钥，不然无法获取内容，而正好客户端和服务端都知道这个私钥，所以只要加密算法够彪悍，私钥够复杂，数据就够安全。
7. 传输加密后的信息
这部分信息是服务段用私钥加密后的信息，可以在客户端被还原。
8. 客户端解密信息
客户端用之前生成的私钥解密服务段传过来的信息，于是获取了解密后的内容。

ca证书是什么：
CA（Certificate Authority）是负责管理和签发证书的第三方权威机构，是所有行业和公众都信任的、认可的。
CA证书，就是CA颁发的证书，可用于验证网站是否可信（针对HTTPS）、验证某文件是否可信（是否被篡改）等，也可以用一个证书来证明另一个证书是真实可信，
最顶级的证书称为根证书。除了根证书（自己证明自己是可靠），其它证书都要依靠上一级的证书，来证明自己。


1.http
超文本传输协议，用来传输web内容。
2.ssl/tls
ssl：Secure Socket Layer的缩写，安全套接字。原本互联网上使用的http协议是明文的，存在很多缺点，比如传输内容会被头盔和篡改。到了1999年，ssl应用广泛，IETF把ssl标准化改名为tls.所以ssl/tsl就是同一个东西的不同阶段。
3.https
https：Hyper Text Transfer Protocol over Secure Socker Layer，以安全为目的的http通道。

http协议的特点：
1.http 1.1
2.http和TCP之间的关系：http协议依靠TCP协议来传输数据
在网络分层模型中，TCP被称为传输层协议，而http被称为应用层协议。有多常见的应用层协议是以TCP为基础的，比如FTP、SMTP、pop、IMAP等。
TCP被称为面向连接的传输层协议。

http协议如何使用TCP连接。
短连接和长连接

ssl/tsl协议的基本运行方法
ssl/tsl协议的基本思路是采用公钥加密法，也就是说客户端现象服务器端索要公钥，然后用公钥加密信息，服务器收到密文后，用自己的私钥解密。
1.如何保证公钥不被篡改。
将公钥放在数字证书中，只要证书是可信的，公钥就是可信的。
2.公钥加密计算量太大，如何减少耗用时间
每一次对话，客户端和服务器端都生成一个对话密钥，用它来加密信息。由于对话密钥是对称加密，所以运算速度非常快，而服务器公钥只用于加密对话密钥本身，这样减少了加密运算的消耗时间。
ssl/tls协议的基本过程是这样的：
客户端向服务器端索要并验证公钥。
双方协商生成对话密钥。
双方采用对话密钥进行加密通信。
上面的前两步又称为握手阶段。
<img src="https://github.com/realyuyanan/sourceroom/blob/master/tls%20ssl.png"/>
3.ssl http和https协议的联系
ssl是Netscape公司提出的安全保密协议，在浏览器和文本服务器之间构造安全通道来进行数据传输，ssl运行在TCP、IP层之上，应用层之下，为应用程序提供加密数据通道，它采用了RC4、MD5以及RSA等加密算法，使用40位的密钥，适用于商业信息的加密。
同时Netscape公司相应开发了https协议并内置于其浏览器中，https实际上就是ssl over http，他是用默认端口443，而不是像http那样使用80端口和TCP/IP进行通信。https协议使用ssl在发送方把原始数据进行加密，然后接受方进行解密。加密和解密需要发送发和接收方通过交换共知的密钥来实现，因此所传送的数据不容易被网络黑客截获和解密。
然而，加密和解密过程需要耗费系统大量的开销，严重降低机器的性能，相关测试数据表明使用https协议传输数据的工作效率只有使用http协议传输的十分之一。

https协议的需求是什么？
兼容性
https还是要基于TCP来传输。
单独使用一个新的协议，把http协议包裹起来。
可扩展性。
保密性。
完整性。
真实性。

http与https区别：
<img src="https://github.com/realyuyanan/sourceroom/blob/master/http%20https%E5%8C%BA%E5%88%AB.png"/>


转载至：http://www.mahaixiang.cn/internet/1522.html
